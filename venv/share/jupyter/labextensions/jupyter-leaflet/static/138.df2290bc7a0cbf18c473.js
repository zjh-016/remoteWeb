(self.webpackChunkjupyter_leaflet=self.webpackChunkjupyter_leaflet||[]).push([[138],{8581:(e,t,o)=>{(t=o(3645)(!1)).push([e.id,"/* Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\n\n.leaflet-container {\n    height: 100%;\n    width: 100%;\n}\n\n.jupyter-widgets.leaflet-widgets {\n    height: 400px;\n    overflow: hidden;\n    flex: 1 1 auto;\n}\n\n.jp-LinkedOutputView .jupyter-widgets.leaflet-widgets {\n    min-height: 360px;  /* Min-height required for mirred output in jlab < 0.31.6 */\n    height: 100%;\n}\n\n/* Leaflet crispness override */\n.crisp-image {\n    /* Preserve crisp pixels with scaled up images */\n    image-rendering: optimizeSpeed;             /* Legal fallback */\n    image-rendering: -moz-crisp-edges;          /* Firefox        */\n    image-rendering: -o-crisp-edges;            /* Opera          */\n    image-rendering: -webkit-optimize-contrast; /* Safari         */\n    image-rendering: optimize-contrast;         /* CSS3 Proposed  */\n    image-rendering: crisp-edges;               /* CSS4 Proposed  */\n    image-rendering: pixelated;                 /* CSS4 Proposed  */\n    -ms-interpolation-mode: nearest-neighbor;   /* IE8+           */\n}\n\n/* JupyterLab themes support */\n/* Popup */\n.leaflet-popup-content-wrapper, .leaflet-popup-tip {\n    background-color: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n    border-width: var(--jp-border-width);\n    border-color: var(--jp-border-color1);\n}\n\n/* Basic controls */\n.leaflet-bar a, .leaflet-bar a:hover {\n    background-color: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n    border-width: var(--jp-border-width);\n    border-color: var(--jp-border-color1);\n}\n\n.leaflet-bar a:hover {\n    background-color: var(--jp-layout-color2);\n    color: var(--jp-ui-font-color2);\n}\n\n.leaflet-bar a.leaflet-disabled {\n    background-color: var(--jp-layout-color3);\n    color: var(--jp-ui-font-color3);\n}\n\n/* Widget control */\n.leaflet-widgetcontrol {\n    background: var(--jp-layout-color1);\n    border-radius: 4.5px;\n    box-shadow: 4px 5px 8px 0px #9e9e9e\n}\n\n/* SplitMap control */\n.leaflet-sbs-divider {\n    background-color: var(--jp-layout-color1);\n}\n\n.leaflet-sbs-range::-webkit-slider-thumb {\n    background-color: var(--jp-layout-color1);\n    border-width: var(--jp-border-width);\n    border-color: var(--jp-border-color1);\n}\n\n.leaflet-sbs-range::-ms-thumb {\n    background-color: var(--jp-layout-color1);\n    border-width: var(--jp-border-width);\n    border-color: var(--jp-border-color1);\n}\n\n.leaflet-sbs-range::-moz-range-thumb {\n    background-color: var(--jp-layout-color1);\n    border-width: var(--jp-border-width);\n    border-color: var(--jp-border-color1);\n}\n\n/* Measure control */\n.leaflet-control-measure {\n    background-color: var(--jp-layout-color1);\n    border-width: var(--jp-border-width);\n    border-color: var(--jp-border-color1);\n    color: var(--jp-ui-font-color1);\n}\n\n/* Layers control */\n.leaflet-control-layers {\n    background-color: var(--jp-layout-color1);\n    border-width: var(--jp-border-width);\n    border-color: var(--jp-border-color1);\n    color: var(--jp-ui-font-color1);\n}\n\n.leaflet-control-layers-expanded {\n    background-color: var(--jp-layout-color1);\n    border-width: var(--jp-border-width);\n    border-color: var(--jp-border-color1);\n    color: var(--jp-ui-font-color1);\n}\n\n/* Attribution control */\n.leaflet-container .leaflet-control-attribution {\n    background-color: var(--jp-layout-color1);\n    border-width: var(--jp-border-width);\n    border-color: var(--jp-border-color1);\n    color: var(--jp-ui-font-color1);\n}\n\n.leaflet-control-velocity.leaflet-control {\n    background: var(--jp-layout-color1);\n    margin: 0;\n    padding: 0 5px;\n    color: var(--jp-ui-font-color1);\n    font-size: 11px;\n}\n\n/* Legend Control */\ndiv.leaflet-control-legend {\n    color: var(--jp-ui-font-color1);\n   \tline-height: 18px;\n   \twidth: auto;\n    background-color: var(--jp-layout-color1);\n    border-width: var(--jp-border-width);\n    border-color: var(--jp-border-color1);\n  \tborder-radius: 4.5px;\n   \tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\n   \tpadding: 6px 10px 6px 6px;\n}\n\ndiv.leaflet-control-legend > h4 {\n\tpadding: 0;\n   \tmargin: 0; \n\tmargin-bottom: 5px;\n}\n\ndiv.leaflet-control-legend > i {\n\twidth: 18px;\n   \theight: 18px;\n   \tfloat: left;\n   \tmargin-right: 8px;\n}\n\ndiv.leaflet-control-legend > p {\n\tdisplay: inline-block;\n}\n\n/* Magnifying Glass */\n.leaflet-magnifying-glass {\n  border-radius: 50%;\n  border: 1px solid gray;\n  box-shadow: 0 0 5px gray;\n  position: absolute;\n  overflow: hidden;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.leaflet-magnifying-glass > .leaflet-container {\n  height: \t100%;\n  width: \t100%;\n}\n\n/* Webkit-only workaround for the border-radius clipping bug,\napplied to the map container */\n.leaflet-magnifying-glass-webkit {\n  border-radius: 50%;\n  -webkit-mask-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYGBgAAgwAAAEAAGbA+oJAAAAAElFTkSuQmCC);\n}\n",""]),e.exports=t},907:(e,t,o)=>{var i=o(3379),s=o(8581);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.id,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},306:e=>{"use strict";e.exports={version:"0.15.1"}},5195:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletControlModel:()=>l,LeafletControlView:()=>n});const i=o(5335),s=o(9652),a=o(3555);class l extends i.WidgetModel{defaults(){return{...super.defaults(),_view_name:"LeafletControlView",_model_name:"LeafletControlModel",_view_module:"jupyter-leaflet",_model_module:"jupyter-leaflet",options:[],position:"topleft"}}}class n extends a.LeafletWidgetView{initialize(e){super.initialize(e),this.map_view=this.options.map_view}render(){return Promise.resolve(this.create_obj()).then((()=>{this.leaflet_events(),this.model_events()}))}leaflet_events(){}model_events(){for(var e,t=this.model.get("options"),o=0;o<t.length;o++)e=t[o],this.listenTo(this.model,"change:"+e,(function(){s.setOptions(this.obj,this.get_options())}),this)}}},8138:(e,t,o)=>{var i=window.L;e.exports=o(1880),e.exports.version=o(306).version,void 0!==i&&i!==window.L&&(console.log("Existing `L` detected, running ipyleaflet's Leaflet in no-conflict mode as `ipyL`"),ipyL=L.noConflict())},1880:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletAntPathModel:()=>Ce,LeafletAntPathView:()=>Ve,LeafletAttributionControlModel:()=>ot,LeafletAttributionControlView:()=>it,LeafletAwesomeIconModel:()=>g,LeafletAwesomeIconView:()=>f,LeafletCircleMarkerModel:()=>Ae.LeafletCircleMarkerModel,LeafletCircleMarkerView:()=>Ae.LeafletCircleMarkerView,LeafletCircleModel:()=>Re,LeafletCircleView:()=>Ie,LeafletControlModel:()=>st.LeafletControlModel,LeafletControlView:()=>st.LeafletControlView,LeafletDivIconModel:()=>Xe,LeafletDivIconView:()=>Ke,LeafletDrawControlModel:()=>bt,LeafletDrawControlView:()=>jt,LeafletFeatureGroupModel:()=>Ne.LeafletFeatureGroupModel,LeafletFeatureGroupView:()=>Ne.LeafletFeatureGroupView,LeafletFullScreenControlModel:()=>Ct,LeafletFullScreenControlView:()=>Vt,LeafletGeoJSONModel:()=>He,LeafletGeoJSONView:()=>$e,LeafletHeatmapModel:()=>ye,LeafletHeatmapView:()=>ve,LeafletIconModel:()=>m,LeafletIconView:()=>p,LeafletImageOverlayModel:()=>se,LeafletImageOverlayView:()=>ae,LeafletLayerGroupModel:()=>Be.LeafletLayerGroupModel,LeafletLayerGroupView:()=>Be.LeafletLayerGroupView,LeafletLayerModel:()=>i.LeafletLayerModel,LeafletLayerView:()=>i.LeafletLayerView,LeafletLayersControlModel:()=>pt,LeafletLayersControlView:()=>ut,LeafletLegendControlModel:()=>Jt,LeafletLegendControlView:()=>qt,LeafletLocalTileLayerModel:()=>S,LeafletLocalTileLayerView:()=>A,LeafletMagnifyingGlassModel:()=>K,LeafletMagnifyingGlassView:()=>ee,LeafletMapModel:()=>ao,LeafletMapStyleModel:()=>so,LeafletMapView:()=>lo,LeafletMarkerClusterModel:()=>We,LeafletMarkerClusterView:()=>Fe,LeafletMarkerModel:()=>r,LeafletMarkerView:()=>d,LeafletMeasureControlModel:()=>ft,LeafletMeasureControlView:()=>Lt,LeafletPathModel:()=>be.LeafletPathModel,LeafletPathView:()=>be.LeafletPathView,LeafletPolygonModel:()=>Te.LeafletPolygonModel,LeafletPolygonView:()=>Te.LeafletPolygonView,LeafletPolylineModel:()=>ze.LeafletPolylineModel,LeafletPolylineView:()=>ze.LeafletPolylineView,LeafletPopupModel:()=>x,LeafletPopupView:()=>C,LeafletPostWMSLayerModel:()=>q,LeafletPostWMSLayerView:()=>H,LeafletRasterLayerModel:()=>V.LeafletRasterLayerModel,LeafletRasterLayerView:()=>V.LeafletRasterLayerView,LeafletRectangleModel:()=>Oe,LeafletRectangleView:()=>Se,LeafletScaleControlModel:()=>Wt,LeafletScaleControlView:()=>Ft,LeafletSearchControlModel:()=>Yt,LeafletSearchControlView:()=>Xt,LeafletSplitMapControlModel:()=>rt,LeafletSplitMapControlView:()=>ht,LeafletTDTLayerModel:()=>R,LeafletTDTLayerView:()=>I,LeafletTileLayerModel:()=>z.LeafletTileLayerModel,LeafletTileLayerView:()=>z.LeafletTileLayerView,LeafletUILayerModel:()=>i.LeafletUILayerModel,LeafletUILayerView:()=>i.LeafletUILayerView,LeafletVectorLayerModel:()=>we.LeafletVectorLayerModel,LeafletVectorLayerView:()=>we.LeafletVectorLayerView,LeafletVectorTileLayerModel:()=>k,LeafletVectorTileLayerView:()=>P,LeafletVelocityModel:()=>ue,LeafletVelocityView:()=>_e,LeafletVideoOverlayModel:()=>de,LeafletVideoOverlayView:()=>he,LeafletWMSLayerModel:()=>W,LeafletWMSLayerView:()=>F,LeafletWidgetControlModel:()=>At,LeafletWidgetControlView:()=>Dt,LeafletZoomControlModel:()=>It,LeafletZoomControlView:()=>Et});var i=o(4795);const s=o(5335),a=o(9652),l=o(4795),n=[0,0];class r extends l.LeafletUILayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletMarkerView",_model_name:"LeafletMarkerModel",location:n,opacity:1,visible:!0,z_index_offset:0,draggable:!0,keyboard:!0,title:"",alt:"",rise_on_hover:!1,rise_offset:250,rotation_angle:0,rotation_origin:"",icon:null}}}r.serializers={...l.LeafletUILayerModel.serializers,icon:{deserialize:s.unpack_models}};class d extends l.LeafletUILayerView{initialize(e){super.initialize(e),this.icon_promise=Promise.resolve()}create_obj(){this.obj=a.marker(this.model.get("location"),this.get_options()),this.obj.on("dragend",(e=>{var t=e.target.getLatLng();this.model.set("location",[t.lat,t.lng]),this.touch()}))}remove(){super.remove(),this.icon_promise.then((()=>{this.icon&&this.icon.remove()}))}set_icon(e){this.icon&&this.icon.remove(),e&&(this.icon_promise=this.icon_promise.then((()=>this.create_child_view(e).then((e=>{this.obj.setIcon(e.obj),this.icon=e})))))}model_events(){super.model_events(),this.listenTo(this.model,"change:location",(function(){this.obj.setLatLng(this.model.get("location")),this.send({event:"move",location:this.model.get("location")})}),this),this.listenTo(this.model,"change:z_index_offset",(function(){this.obj.setZIndexOffset(this.model.get("z_index_offset"))}),this),this.listenTo(this.model,"change:opacity",(function(){this.model.get("visible")&&this.obj.setOpacity(this.model.get("opacity"))}),this),this.listenTo(this.model,"change:visible",(function(){this.model.get("visible")?this.obj.setOpacity(this.model.get("opacity")):this.obj.setOpacity(0)}),this),this.listenTo(this.model,"change:rotation_angle",(function(){this.obj.setRotationAngle(this.model.get("rotation_angle"))}),this),this.listenTo(this.model,"change:rotation_origin",(function(){this.obj.setRotationOrigin(this.model.get("rotation_origin"))}),this),this.obj.setLatLng(this.model.get("location")),this.obj.setZIndexOffset(this.model.get("z_index_offset")),this.model.get("visible")?this.obj.setOpacity(this.model.get("opacity")):this.obj.setOpacity(0),this.obj.setRotationAngle(this.model.get("rotation_angle")),this.obj.setRotationOrigin(this.model.get("rotation_origin")),this.listenTo(this.model,"change:icon",(function(){this.set_icon(this.model.get("icon"))}),this),this.set_icon(this.model.get("icon"))}}const h=o(9652),c=o(4795);class m extends c.LeafletUILayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletIconView",_model_name:"LeafletIconModel",icon_url:"",shadow_url:"",icon_size:null,shadow_size:null,icon_anchor:null,shadow_anchor:null,popup_anchor:[0,0]}}}class p extends c.LeafletUILayerView{create_obj(){this.obj=h.icon(this.get_options())}}const u=o(9652),_=o(4795);class g extends _.LeafletUILayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletAwesomeIconView",_model_name:"LeafletAwesomeIconModel",name:"home",marker_color:"blue",icon_color:"blue",spin:!1}}}class f extends _.LeafletUILayerView{create_obj(){this.obj=u.AwesomeMarkers.icon({prefix:"fa",icon:this.model.get("name"),markerColor:this.model.get("marker_color"),iconColor:this.model.get("icon_color"),spin:this.model.get("spin")})}}const y=o(5335),v=o(9652),w=o(4795),b=o(2720),j=o(3992),M=[0,0];class x extends w.LeafletUILayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletPopupView",_model_name:"LeafletPopupModel",location:M,child:null,min_width:50,max_width:300,max_height:null}}}x.serializers={...w.LeafletUILayerModel.serializers,child:{deserialize:y.unpack_models}};class C extends w.LeafletUILayerView{create_obj(){this.obj=v.popup(this.get_options()).setLatLng(this.model.get("location")),this.model.on("msg:custom",this.handle_message.bind(this))}initialize(e){super.initialize(e),this.child_promise=Promise.resolve()}render(){return super.render(),this.set_child(this.model.get("child"))}remove(){super.remove(),this.child_promise.then((()=>{this.child&&this.child.remove()}))}set_child(e){return this.child&&this.child.remove(),e&&(this.child_promise=this.child_promise.then((()=>this.create_child_view(e).then((e=>{b.MessageLoop.sendMessage(e.pWidget,j.Widget.Msg.BeforeAttach),this.obj.setContent(e.el),b.MessageLoop.sendMessage(e.pWidget,j.Widget.Msg.AfterAttach),this.force_update(),this.child=e,this.trigger("child:created")}))))),this.child_promise}leaflet_events(){super.leaflet_events(),this.obj.on("add",(e=>{window.dispatchEvent(new Event("resize"))}))}model_events(){super.model_events(),this.model.on("change:child",(()=>{this.set_child(this.model.get("child"))})),this.model.on_some_change(["min_width","max_width","max_height"],this.update_popup,this)}update_popup(){v.setOptions(this.obj,this.get_options()),this.force_update()}force_update(){this.map_view.obj.hasLayer(this.obj)?(this.map_view.obj.closePopup(this.obj),this.map_view.obj.openPopup(this.obj)):(this.map_view.obj.openPopup(this.obj),this.map_view.obj.closePopup(this.obj))}handle_message(e){"open"==e.msg?this.map_view.obj.openPopup(this.obj,e.location):"close"==e.msg&&this.map_view.obj.closePopup(this.obj)}}var V=o(6004),z=o(6231);const T=o(4795);class k extends T.LeafletLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletVectorTileLayerView",_model_name:"LeafletVectorTileLayerModel",url:"",vectorTileLayerStyles:{}}}}class P extends T.LeafletLayerView{create_obj(){var e={...this.get_options(),rendererFactory:L.canvas.tile};this.obj=L.vectorGrid.protobuf(this.model.get("url"),e),this.model.on("msg:custom",this.handle_message.bind(this))}model_events(){super.model_events(),this.listenTo(this.model,"change:url",(function(){this.obj.setUrl(this.model.get("url"))}),this)}handle_message(e){"redraw"==e.msg&&this.obj.redraw()}}const O=o(6231);class S extends O.LeafletTileLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletLocalTileLayerView",_model_name:"LeafletLocalTileLayerModel",path:""}}}class A extends O.LeafletTileLayerView{create_obj(){this.model.set("url",this.model.get("path")),this.model.save_changes(),super.create_obj()}}const D=o(9652),U=o(6231);class R extends U.LeafletTileLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletTDTLayerView",_model_name:"LeafletTDTLayerModel",subdomains:["0","1","2","3","4","5","6","7"],key:"2d585d36d89ab86049e29f6f10364dc3"}}}class I extends U.LeafletTileLayerView{create_obj(){this.obj=D.tileLayer(this.model.get("url"),{...this.get_options(),zoomOffset:this.model.get("zoom_offset")}),this.obj.setZIndex(0)}}const E=o(9652),Z=o(6231),G=o(4382);class W extends Z.LeafletTileLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletWMSLayerView",_model_name:"LeafletWMSLayerModel",layers:"",styles:"",format:"image/jpeg",transparent:!1,crs:null,uppercase:!1}}}class F extends Z.LeafletTileLayerView{create_obj(){this.obj=E.tileLayer.wms(this.model.get("url"),{...this.get_options(),crs:G.getProjection(this.model.get("crs"))})}model_events(){for(var e in super.model_events(),this.get_options())this.model.on("change:"+e,(()=>{this.obj.setParams(this.get_options(),!0),this.obj.refresh()}))}}const B=o(9652),N=o(6231),J=o(4382);class q extends N.LeafletTileLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletPostWMSLayerView",_model_name:"LeafletPostWMSLayerModel",layers:"",styles:"",format:"image/png",transparent:!0,crs:null,uppercase:!0}}}class H extends N.LeafletTileLayerView{create_obj(){this.obj=B.tileLayer.postwms(this.model.get("url"),{...this.get_options(),crs:J.getProjection(this.model.get("crs"))})}model_events(){for(var e in super.model_events(),this.get_options())this.model.on("change:"+e,(()=>{this.obj.setParams(this.get_options(),!0),this.obj.refresh()}))}}const $=o(5335),Q=o(9652),Y=o(6004),X=o(4795);class K extends Y.LeafletRasterLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletMagnifyingGlassView",_model_name:"LeafletMagnifyingGlassModel",radius:100,zoomOffset:3,fixedZoom:-1,fixedPosition:!1,latLng:[],layers:[]}}}K.serializers={...$.WidgetModel.serializers,layers:{deserialize:$.unpack_models}};class ee extends X.LeafletLayerView{remove_layer_view(e){e.remove()}add_layer_model(e){return this.create_child_view(e).then((e=>e.obj))}create_obj(){this.layer_views=new $.ViewList(this.add_layer_model,this.remove_layer_view,this);var e=this.get_options().layers;return this.layer_views.update(e).then((e=>{var t=this.get_options();t.layers=e,this.obj=Q.magnifyingGlass(t)}))}model_events(){var e;super.model_events();for(var t=this.model.get("options"),o=0;o<t.length;o++)e=t[o],this.listenTo(this.model,"change:"+e,(function(){this.map_view.obj.removeLayer(this.obj),this.create_obj().then((()=>{this.map_view.obj.addLayer(this.obj)}))}),this)}}const te=o(9652),oe=o(6004),ie=[0,0];class se extends oe.LeafletRasterLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletImageOverlayView",_model_name:"LeafletImageOverlayModel",url:"",bounds:[ie,ie],attribution:""}}}class ae extends oe.LeafletRasterLayerView{create_obj(){this.obj=te.imageOverlay(this.model.get("url"),this.model.get("bounds"),this.get_options())}model_events(){super.model_events(),this.listenTo(this.model,"change:url",(function(){const e=this.model.get("url");this.obj.setUrl(e)}),this),this.listenTo(this.model,"change:bounds",(function(){const e=this.model.get("bounds");this.obj.setBounds(e)}),this)}}const le=o(9652),ne=o(6004),re=[0,0];class de extends ne.LeafletRasterLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletVideoOverlayView",_model_name:"LeafletVideoOverlayModel",url:"",bounds:[re,re],attribution:""}}}class he extends ne.LeafletRasterLayerView{create_obj(){this.obj=le.videoOverlay(this.model.get("url"),this.model.get("bounds"),this.get_options()),this.obj.on("load",(()=>{var e=le.Control.extend({onAdd:()=>{var e=le.DomUtil.create("button");return e.innerHTML="&#10074&#10074",le.DomEvent.on(e,"click",(()=>{this.obj.getElement().pause()})),e}}),t=le.Control.extend({onAdd:()=>{var e=le.DomUtil.create("button");return e.innerHTML="&#9658",le.DomEvent.on(e,"click",(()=>{this.obj.getElement().play()})),e}});(new e).addTo(this.map_view.obj),(new t).addTo(this.map_view.obj)}))}model_events(){super.model_events(),this.listenTo(this.model,"change:url",(function(){const e=this.model.get("url"),t=this.model.get("bounds"),o=this.get_options();this.map_view.obj.removeLayer(this.obj),this.obj=le.videoOverlay(e,t,o),this.map_view.obj.addLayer(this.obj)}),this),this.listenTo(this.model,"change:bounds",(function(){const e=this.model.get("url"),t=this.model.get("bounds"),o=this.get_options();this.map_view.obj.removeLayer(this.obj),this.obj=le.videoOverlay(e,t,o),this.map_view.obj.addLayer(this.obj)}),this)}}const ce=o(9652),me=o(4795),pe=o(3555);class ue extends me.LeafletLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletVelocityView",_model_name:"LeafletVelocityModel",displayValues:!0,displayOptions:{velocityType:"Global Wind",position:"bottomleft",emptyString:"No velocity data",angleConvention:"bearingCW",displayPosition:"bottomleft",displayEmptyString:"No velocity data",speedUnit:"kt"},data:[],minVelocity:0,maxVelocity:10,velocityScale:.005,colorScale:[]}}}class _e extends me.LeafletLayerView{create_obj(){var e=this.get_options();e.data=this.model.get("data"),this.obj=ce.velocityLayer(e)}model_events(){super.model_events(),this.listenTo(this.model,"change:data",(function(){const e=this.model.get("data");this.obj.setData(e)}),this);var e="display_options";this.listenTo(this.model,"change:"+e,(function(){var t={};t[pe.camel_case(e)]={...this.model.get(e)},ce.setOptions(this.obj,t)}),this)}}const ge=o(9652),fe=o(6004),Le=o(4795);class ye extends fe.LeafletRasterLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletHeatmapView",_model_name:"LeafletHeatmapModel",locations:[],minOpacity:.05,maxZoom:18,max:1,radius:25,blur:15,gradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"}}}}class ve extends Le.LeafletLayerView{create_obj(){this.obj=ge.heatLayer(this.model.get("locations"),this.get_options())}model_events(){super.model_events(),this.listenTo(this.model,"change:locations",(function(){this.obj.setLatLngs(this.model.get("locations"))}),this)}}var we=o(2610),be=o(5529);const je=o(9652),Me=o(2610),{antPath:xe}=o(5432);class Ce extends Me.LeafletVectorLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletAntPathView",_model_name:"LeafletAntPathModel",use:"polyline",delay:400,weight:5,dash_array:[10,20],color:"#0000FF",pulse_color:"#FFFFFF",paused:!1,reverse:!1,hardware_accelerated:!1,radius:10}}}class Ve extends Me.LeafletVectorLayerView{create_obj(){this.obj=xe(this.model.get("locations"),this.get_ant_options())}model_events(){super.model_events(),this.listenTo(this.model,"change:locations",(function(){this.obj.setLatLngs(this.model.get("locations"))}),this),this.model.on_some_change(this.model.get("options"),(()=>{this.obj.setStyle(this.get_ant_options())})),this.obj.setStyle(this.get_ant_options())}get_ant_options(){const e=this.get_options();return"circle"!=e.use&&delete e.radius,e.use=je[e.use],e}}var ze=o(9770),Te=o(5321);const ke=o(9652),Pe=o(5321);class Oe extends Pe.LeafletPolygonModel{defaults(){return{...super.defaults(),_view_name:"LeafletRectangleView",_model_name:"LeafletRectangleModel",bounds:[]}}}class Se extends Pe.LeafletPolygonView{create_obj(){this.obj=ke.rectangle(this.model.get("bounds"),this.get_options())}}var Ae=o(587);const De=o(9652),Ue=o(587);class Re extends Ue.LeafletCircleMarkerModel{defaults(){return{...super.defaults(),_view_name:"LeafletCircleView",_model_name:"LeafletCircleModel"}}}class Ie extends Ue.LeafletCircleMarkerView{create_obj(){this.obj=De.circle(this.model.get("location"),this.get_options())}model_events(){super.model_events(),this.listenTo(this.model,"change:radius",(function(){this.obj.setRadius(this.get_options().radius)}),this)}}const Ee=o(5335),Ze=o(9652),Ge=o(4795);o(3555);class We extends Ge.LeafletLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletMarkerClusterView",_model_name:"LeafletMarkerClusterModel",markers:[],disableClusteringAtZoom:18,maxClusterRadius:80}}}We.serializers={...Ee.WidgetModel.serializers,markers:{deserialize:Ee.unpack_models}};class Fe extends Ge.LeafletLayerView{model_events(){super.model_events(),this.listenTo(this.model,"change:markers",(function(e,t){this.marker_views.update(e.get("markers"))}),this)}remove_layer_view(e){this.obj.removeLayer(e.obj),e.remove()}add_layer_model(e){return this.create_child_view(e,{map_view:this.map_view}).then((e=>(this.obj.addLayer(e.obj),e)))}create_obj(){var e=this.get_options();this.obj=Ze.markerClusterGroup(e),this.marker_views=new Ee.ViewList(this.add_layer_model,this.remove_layer_view,this),this.marker_views.update(this.model.get("markers"))}}var Be=o(6464),Ne=o(3090);const Je=o(9652),qe=o(3090);class He extends qe.LeafletFeatureGroupModel{defaults(){return{...super.defaults(),_view_name:"LeafletGeoJSONView",_model_name:"LeafletGeoJSONModel",data:{},style:{},hover_style:{},point_style:{}}}}class $e extends qe.LeafletFeatureGroupView{create_obj(){var e={style:e=>{const t=this.model.get("style");return{...e.properties.style||{},...t}},onEachFeature:(e,t)=>{var o=o=>{"mouseover"==o.type&&(t.setStyle(this.model.get("hover_style")),t.once("mouseout",(()=>{this.obj.resetStyle(t)}))),this.send({event:o.type,feature:e,properties:e.properties,id:e.id})};t.on({mouseover:o,click:o})}},t=this.model.get("point_style");0!==Object.keys(t).length&&(e.pointToLayer=function(e,o){return new Je.CircleMarker(o,t)}),this.obj=Je.geoJson(this.model.get("data"),e)}model_events(){this.listenTo(this.model,"change:style",(function(){this.obj.setStyle(this.model.get("style"))}),this),this.listenTo(this.model,"change:data",(function(){this.obj.clearLayers(),this.obj.addData(this.model.get("data"))}),this)}}const Qe=o(9652),Ye=o(4795);class Xe extends Ye.LeafletUILayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletDivIconView",_model_name:"LeafletDivIconModel",html:"",bg_pos:[0,0],icon_size:null,icon_anchor:null,popup_anchor:[0,0]}}}class Ke extends Ye.LeafletUILayerView{create_obj(){this.obj=Qe.divIcon(this.get_options())}}const et=o(9652),tt=o(5195);class ot extends tt.LeafletControlModel{defaults(){return{...super.defaults(),_view_name:"LeafletAttributionControlView",_model_name:"LeafletAttributionControlModel"}}}class it extends tt.LeafletControlView{initialize(e){super.initialize(e),this.map_view=this.options.map_view}create_obj(){this.obj=et.control.attribution(this.get_options())}}var st=o(5195);const at=o(5335),lt=o(9652),nt=o(5195);class rt extends nt.LeafletControlModel{default(){return{...super.defaults(),_view_name:"LeafletSplitMapControlView",_model_name:"LeafletSplitMapControlModel",left_layer:void 0,right_layer:void 0}}}function dt(e){return Array.isArray(e)?e:[e]}rt.serializers={...nt.LeafletControlModel,left_layer:{deserialize:at.unpack_models},right_layer:{deserialize:at.unpack_models}};class ht extends nt.LeafletControlView{initialize(e){super.initialize(e),this.map_view=this.options.map_view}create_obj(){var e=dt(this.model.get("left_layer")),t=dt(this.model.get("right_layer")),o=this.map_view.model.get("layers");return o=o.concat(e,t),this.map_view.layer_views.update(o).then((o=>{var i=[],s=[];o.forEach((o=>{e.includes(o.model)&&i.push(o.obj),t.includes(o.model)&&s.push(o.obj)})),this.obj=lt.control.splitMap(i,s)}))}}const ct=o(9652),mt=o(5195);class pt extends mt.LeafletControlModel{defaults(){return{...super.defaults(),_view_name:"LeafletLayersControlView",_model_name:"LeafletLayersControlModel"}}}class ut extends mt.LeafletControlView{initialize(e){super.initialize(e),super.initialize(e),this.map_view=this.options.map_view}toggle_obj(){this.obj.remove(),delete this.obj,this.create_obj()}model_events(){this.listenTo(this.map_view.model,"change:layers",(()=>{this.toggle_obj()}))}create_obj(){return Promise.all(this.map_view.layer_views.views).then((e=>{var t=e.reduce((function(e,t){return t.model.get("base")&&(e[t.model.get("name")]=t.obj),e}),{}),o=e.reduce((function(e,t){return t.model.get("base")||(e[t.model.get("name")]=t.obj),e}),{});return this.obj=ct.control.layers(t,o,this.get_options()),this})).then((()=>{this.obj.addTo(this.map_view.obj)}))}}const _t=o(9652),gt=o(5195);class ft extends gt.LeafletControlModel{defaults(){return{...super.defaults(),_view_name:"LeafletMeasureControlView",_model_name:"LeafletMeasureControlModel",primary_length_unit:"feet",secondary_length_unit:void 0,primary_area_unit:"acres",secondar_area_unit:void 0,active_color:"#ABE67E",completed_color:"#C8F2BE",popup_options:{className:"leaflet-measure-resultpopup",autoPanPadding:[10,10]},capture_z_index:1e4,_custom_units:{}}}}class Lt extends gt.LeafletControlView{initialize(e){super.initialize(e),this.map_view=this.options.map_view}create_obj(){this.obj=_t.control.measure(this.get_options()),this.default_units=_t.extend({},this.obj.options.units)}get_options(){const e=super.get_options();return e.units=_t.extend({},this.default_units,this.model.get("_custom_units")),e}model_events(){for(var e,t=this.model.get("options"),o=0;o<t.length;o++)e=t[o],this.listenTo(this.model,"change:"+e,(function(){this.obj.initialize(this.get_options())}),this)}}const yt=o(5335),vt=o(9652),wt=o(5195);class bt extends wt.LeafletControlModel{defaults(){return{...super.defaults(),_view_name:"LeafletDrawControlView",_model_name:"LeafletDrawControlModel",polyline:{shapeOptions:{}},polygon:{shapeOptions:{}},circle:{},circlemarker:{},rectangle:{},marker:{},data:[],edit:!0,remove:!0}}}bt.serializers={...wt.LeafletControlModel.serializers,layer:{deserialize:yt.unpack_models}};class jt extends wt.LeafletControlView{initialize(e){super.initialize(e),this.map_view=this.options.map_view}create_obj(){this.feature_group=vt.geoJson([],{style:function(e){return e.properties.style}}),this.data_to_layers(),this.map_view.obj.addLayer(this.feature_group);var e=this.model.get("polyline");Object.keys(e).length||(e=!1);var t=this.model.get("polygon");Object.keys(t).length||(t=!1);var o=this.model.get("circle");Object.keys(o).length||(o=!1);var i=this.model.get("circlemarker");Object.keys(i).length||(i=!1);var s=this.model.get("rectangle");Object.keys(s).length||(s=!1);var a=this.model.get("marker");Object.keys(a).length||(a=!1),this.obj=new vt.Control.Draw({position:this.model.get("position"),edit:{featureGroup:this.feature_group,edit:this.model.get("edit"),remove:this.model.get("remove")},draw:{polyline:e,polygon:t,circle:o,circlemarker:i,rectangle:s,marker:a}}),this.map_view.obj.on("draw:created",(e=>{var t=e.layer,o=t.toGeoJSON();o.properties.style=t.options,this.send({event:"draw:created",geo_json:o}),this.feature_group.addLayer(t),this.layers_to_data()})),this.map_view.obj.on("draw:edited",(e=>{e.layers.eachLayer((e=>{var t=e.toGeoJSON();t.properties.style=e.options,this.send({event:"draw:edited",geo_json:t})})),this.layers_to_data()})),this.map_view.obj.on("draw:deleted",(e=>{e.layers.eachLayer((e=>{var t=e.toGeoJSON();t.properties.style=e.options,this.send({event:"draw:deleted",geo_json:t})})),this.layers_to_data()})),this.model.on("msg:custom",this.handle_message.bind(this)),this.model.on("change:data",this.data_to_layers.bind(this))}data_to_layers(){const e=this.model.get("data");this.feature_group.clearLayers(),this.feature_group.addData(e)}layers_to_data(){let e=[];this.feature_group.eachLayer((t=>{const o=t.toGeoJSON();o.properties.style=t.options,e.push(o)})),this.model.set("data",e),this.model.save_changes()}handle_message(e){"clear"==e.msg?this.feature_group.eachLayer((e=>{this.feature_group.removeLayer(e)})):"clear_polylines"==e.msg?this.feature_group.eachLayer((e=>{e instanceof vt.Polyline&&!(e instanceof vt.Polygon)&&this.feature_group.removeLayer(e)})):"clear_polygons"==e.msg?this.feature_group.eachLayer((e=>{e instanceof vt.Polygon&&!(e instanceof vt.Rectangle)&&this.feature_group.removeLayer(e)})):"clear_circles"==e.msg?this.feature_group.eachLayer((e=>{e instanceof vt.CircleMarker&&this.feature_group.removeLayer(e)})):"clear_circle_markers"==e.msg?this.feature_group.eachLayer((e=>{e instanceof vt.CircleMarker&&!(e instanceof vt.Circle)&&this.feature_group.removeLayer(e)})):"clear_rectangles"==e.msg?this.feature_group.eachLayer((e=>{e instanceof vt.Rectangle&&this.feature_group.removeLayer(e)})):"clear_markers"==e.msg&&this.feature_group.eachLayer((e=>{e instanceof vt.Marker&&this.feature_group.removeLayer(e)}))}}const Mt=o(9652),xt=o(5195);class Ct extends xt.LeafletControlModel{defaults(){return{...super.defaults(),_view_name:"LeafletFullScreenControlView",_model_name:"LeafletFullScreenControlModel"}}}class Vt extends xt.LeafletControlView{initialize(e){super.initialize(e),this.map_view=this.options.map_view}create_obj(){this.obj=Mt.control.fullscreen(this.get_options())}}const zt=o(5335),Tt=o(9652),kt=o(5195),Pt=o(2720),Ot=o(3992);class St extends Tt.Control{updateLayout(e){this._container&&Object.keys(e).forEach((t=>{this._container.style[t]=e[t]+"px"}))}getContent(){return this._content}setContent(e){if(this._map)return this._content=e,this._container.appendChild(this._content),this}onAdd(e){return this.options.transparentBg?this._container=Tt.DomUtil.create("div"):this._container=Tt.DomUtil.create("div","leaflet-widgetcontrol"),Tt.DomEvent.disableClickPropagation(this._container),Tt.DomEvent.disableScrollPropagation(this._container),this._container}}Tt.Control.WidgetControl=St,Tt.control.widgetcontrol=function(e){return new Tt.Control.WidgetControl(e)};class At extends kt.LeafletControlModel{defaults(){return{_view_name:"LeafletWidgetControlView",_model_name:"LeafletWidgetControlModel",widget:null,max_width:null,min_width:null,max_height:null,min_height:null,transparent_bg:!1}}}At.serializers={...kt.LeafletControlModel.serializers,widget:{deserialize:zt.unpack_models}};class Dt extends kt.LeafletControlView{initialize(e){super.initialize(e),this.map_view=this.options.map_view,this.widget_view=void 0}set_widget(e){if(this.widget_view&&(this.widget_view.remove(),this.widget_view=void 0),e)return this.create_child_view(e).then((e=>{this.widget_view=e,this.displayed.then((()=>{this.widget_view.trigger("displayed",this),this.widget_view.displayed.then((()=>{this.updateLayout(),Pt.MessageLoop.sendMessage(e.pWidget,Ot.Widget.Msg.BeforeAttach),this.obj.setContent(e.el),Pt.MessageLoop.sendMessage(e.pWidget,Ot.Widget.Msg.AfterAttach)}))}))}))}create_obj(){this.obj=Tt.control.widgetcontrol(this.get_options()),this.set_widget(this.model.get("widget"))}model_events(){super.model_events(),this.listenTo(this.model,"change:min_width change:min_height change:max_width change:max_height",(()=>{this.updateLayout()})),this.listenTo(this.model,"change:widget",(function(e){this.set_widget(this.model.get("widget"))}))}updateLayout(){this.obj.updateLayout({maxWidth:this.model.get("max_width"),minWidth:this.model.get("min_width"),maxHeight:this.model.get("max_height"),minHeight:this.model.get("min_height")})}}const Ut=o(9652),Rt=o(5195);class It extends Rt.LeafletControlModel{defaults(){return{...super.defaults(),_view_name:"LeafletZoomControlView",_model_name:"LeafletZoomControlModel",zoom_in_text:"+",zoom_in_title:"Zoom in",zoom_out_text:"-",zoom_out_title:"Zoom out"}}}class Et extends Rt.LeafletControlView{initialize(e){super.initialize(e),this.map_view=this.options.map_view}create_obj(){this.obj=Ut.control.zoom(this.get_options())}}const Zt=o(9652),Gt=o(5195);class Wt extends Gt.LeafletControlModel{defaults(){return{...super.defaults(),_view_name:"LeafletScaleControlView",_model_name:"LeafletScaleControlModel"}}}class Ft extends Gt.LeafletControlView{initialize(e){super.initialize(e),this.map_view=this.options.map_view}create_obj(){this.obj=Zt.control.scale(this.get_options())}}const Bt=o(9652),Nt=o(5195);class Jt extends Nt.LeafletControlModel{defaults(){return{...super.defaults(),_view_name:"LeafletLegendControlView",_model_name:"LeafletLegendControlModel",title:"Legend",legend:{"value 1":"#AAF","value 2":"#55A","value 3":"#005"},position:"bottomright"}}}class qt extends Nt.LeafletControlView{initialize(e){super.initialize(e),this.map_view=this.options.map_view}render(){this.create_obj(),this.model.on("change:title",this.titleChanged,this),this.model.on("change:position",this.positionChanged,this),this.model.on("change:legend",this.legendChanged,this)}create_obj(e,t,o){let i=Bt.control({position:this.model.get("position")});i.onAdd=e=>{let t=Bt.DomUtil.create("div","leaflet-control-legend");return this.addContent(t),t},this.obj=i}legendChanged(){let e=this.obj.getContainer();Bt.DomUtil.empty(e),this.addContent(e)}positionChanged(){this.obj.setPosition(this.model.get("position"))}titleChanged(){this.obj.getContainer().getElementsByTagName("h4")[0].textContent=this.model.get("title")}addContent(e){let t=document.createElement("h4");t.textContent=this.model.get("title"),e.appendChild(t);let o=this.model.get("legend");for(let t in o){let i=document.createElement("i");i.style=`background-color: ${o[t]}`,e.appendChild(i),e.innerHTML+=`<p>${t} </p></br>`}}}const Ht=o(5335),$t=o(9652),Qt=o(5195);class Yt extends Qt.LeafletControlModel{defaults(){return{...super.defaults(),_view_name:"LeafletSearchControlView",_model_name:"LeafletSearchControlModel",url:null,jsonp_param:"json_callback",property_name:"display_name",property_loc:["lat","lon"],auto_type:!1,auto_collapse:!1,zoom:null,animate_location:!1,found_style:{fillColor:"#3f0",color:"#0f0"},marker:null,layer:null}}}Yt.serializers={...Qt.LeafletControlModel.serializers,marker:{deserialize:Ht.unpack_models},layer:{deserialize:Ht.unpack_models}};class Xt extends Qt.LeafletControlView{create_obj(){const e=this.model.get("layer"),t=this.model.get("marker"),o=null!==e?this.create_child_view(e):Promise.resolve(null),i=null!==t?this.create_child_view(t):Promise.resolve(null);return Promise.all([o,i]).then((e=>{const t=e[0],o=e[1],i=this.get_options();i.layer=null!==t?t.obj:null,i.marker=null!==o&&o.obj,this.obj=$t.control.search(i)}))}leaflet_events(){this.obj.on("search:locationfound",(e=>{if(null!==e.layer){var t=this.model.get("found_style");e.layer.setStyle(t),e.layer._popup&&e.layer.openPopup()}this.send({event:"locationfound",text:e.text,feature:null!==e.layer?e.layer.feature:null,location:[e.latlng.lat,e.latlng.lng]})}))}}const Kt=o(5335),eo=o(9652),to=o(3555),oo=o(4382),io=[0,0];class so extends Kt.StyleModel{defaults(){return{...super.defaults(),_model_name:"LeafletMapStyleModel",_model_module:"jupyter-leaflet"}}}so.styleProperties={cursor:{selector:".leaflet-grab",attribute:"cursor",default:"grab"}};class ao extends Kt.DOMWidgetModel{defaults(){return{...super.defaults(),_view_name:"LeafletMapView",_model_name:"LeafletMapModel",_model_module:"jupyter-leaflet",_view_module:"jupyter-leaflet",center:io,zoom_start:12,zoom:12,max_zoom:18,min_zoom:1,dragging:!0,touch_zoom:!0,zoom_delta:1,zoom_snap:1,scroll_wheel_zoom:!1,double_click_zoom:!0,box_zoom:!0,tap:!0,tap_tolerance:15,world_copy_jump:!1,close_popup_on_click:!0,bounce_at_zoom_limits:!0,keyboard:!0,keyboard_pan_offset:80,keyboard_zoom_offset:1,inertia:!0,inertia_deceleration:3e3,inertia_max_speed:1500,zoom_animation_threshold:4,south:io[0],north:io[0],east:io[1],west:io[1],bottom:0,top:9007199254740991,right:0,left:9007199254740991,options:[],layers:[],controls:[],crs:{name:"EPSG3857",custom:!1},style:null,default_style:null,dragging_style:null,_dragging:!1}}initialize(e,t){super.initialize(e,t),this.set("window_url",window.location.href)}update_style(){var e;e=this.get("_dragging")?this.get("dragging_style"):this.get("default_style"),this.set("style",e)}update_bounds(){return Kt.resolvePromisesDict(this.views).then((e=>{var t={north:-90,south:90,east:-180,west:180},o={top:9007199254740991,bottom:0,right:0,left:9007199254740991};Object.keys(e).reduce((function(t,o){var i=t[0],s=t[1],a=e[o].obj;if(a){var l=a.getBounds();i.north=Math.max(i.north,l.getNorth()),i.south=Math.min(i.south,l.getSouth()),i.east=Math.max(i.east,l.getEast()),i.west=Math.min(i.west,l.getWest());var n=a.getPixelBounds(),r=n.getTopLeft(),d=n.getBottomRight();s.top=Math.min(s.top,r.y),s.bottom=Math.max(s.bottom,d.y),s.right=Math.max(s.right,d.x),s.left=Math.min(s.left,r.x)}return[i,s]}),[t,o]),this.set("north",t.north),this.set("south",t.south),this.set("east",t.east),this.set("west",t.west),this.set("top",o.top),this.set("bottom",o.bottom),this.set("right",o.right),this.set("left",o.left)}))}}ao.serializers={...Kt.DOMWidgetModel.serializers,layers:{deserialize:Kt.unpack_models},controls:{deserialize:Kt.unpack_models},style:{deserialize:Kt.unpack_models},default_style:{deserialize:Kt.unpack_models},dragging_style:{deserialize:Kt.unpack_models}};class lo extends to.LeafletDOMWidgetView{initialize(e){super.initialize(e),this.dirty=!1,this.basemap=!1}remove(){this.obj&&(this.obj.remove(),this.obj=null),super.remove()}remove_layer_view(e){this.obj.removeLayer(e.obj),e.remove()}add_layer_model(e){return this.create_child_view(e,{map_view:this}).then((t=>{const o=e.get("base");return o&&this.basemap||(o&&(this.basemap=o),this.obj.addLayer(t.obj),this.displayed.then((()=>{t.trigger("displayed",this)}))),t}))}remove_control_view(e){this.obj.removeControl(e.obj),e.remove()}add_control_model(e){return this.create_child_view(e,{map_view:this}).then((e=>(this.obj.addControl(e.obj),this.displayed.then((()=>{e.trigger("displayed",this)})),e)))}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("leaflet-widgets"),this.map_container=document.createElement("div"),this.el.appendChild(this.map_container),"nearest"==this.get_options().interpolation&&this.map_container.classList.add("crisp-image"),this.layer_views=new Kt.ViewList(this.add_layer_model,this.remove_layer_view,this),this.control_views=new Kt.ViewList(this.add_control_model,this.remove_control_view,this),this.displayed.then(this.render_leaflet.bind(this))}render_leaflet(){this.create_obj().then((()=>(this.layer_views.update(this.model.get("layers")),this.control_views.update(this.model.get("controls")),this.leaflet_events(),this.model_events(),this.model.update_bounds().then((()=>{this.touch()})),this)))}create_obj(){return this.layoutPromise.then((()=>{var e={...this.get_options(),crs:oo.getProjection(this.model.get("crs")),zoomControl:!1,attributionControl:!1};this.obj=eo.map(this.map_container,e)}))}leaflet_events(){this.obj.on("moveend",(e=>{if(!this.dirty){this.dirty=!0;var t=e.target.getCenter();this.model.set("center",[t.lat,t.lng]),this.dirty=!1}this.model.update_bounds().then((()=>{this.touch()})),this.model.set("_dragging",!1),this.model.update_style()})),this.obj.on("movestart",(()=>{this.model.set("_dragging",!0),this.model.update_style()})),this.obj.on("zoomend",(e=>{if(!this.dirty){this.dirty=!0;var t=e.target.getZoom();this.model.set("zoom",t),this.dirty=!1}this.model.update_bounds().then((()=>{this.touch()}))})),this.obj.on("click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu preclick",(e=>{this.send({event:"interaction",type:e.type,coordinates:[e.latlng.lat,e.latlng.lng],location:this.model.get("location")})})),this.obj.on("fullscreenchange",(()=>{this.model.set("fullscreen",this.obj.isFullscreen())}))}model_events(){for(var e,t=this.model.get("options"),o=0;o<t.length;o++)e=t[o],this.listenTo(this.model,"change:"+e,(function(){eo.setOptions(this.obj,this.get_options())}),this);this.listenTo(this.model,"msg:custom",this.handle_msg,this),this.listenTo(this.model,"change:layers",(function(){this.layer_views.update(this.model.get("layers"))}),this),this.listenTo(this.model,"change:controls",(function(){this.control_views.update(this.model.get("controls"))}),this),this.listenTo(this.model,"change:zoom",(function(){this.dirty||(this.dirty=!0,this.obj.flyTo(this.model.get("center"),this.model.get("zoom"),{animate:!1}),this.dirty=!1),this.model.update_bounds().then((()=>{this.touch()}))}),this),this.listenTo(this.model,"change:center",(function(){this.dirty||(this.dirty=!0,this.obj.panTo(this.model.get("center")),this.dirty=!1),this.model.update_bounds().then((()=>{this.touch()}))}),this),this.listenTo(this.model,"change:dragging_style",(function(){this.model.update_style()}),this),this.listenTo(this.model,"change:default_style",(function(){this.model.update_style()}),this),this.listenTo(this.model,"change:fullscreen",(function(){var e=this.model.get("fullscreen");this.obj.isFullscreen()!==e&&this.obj.toggleFullscreen()}),this)}handle_msg(e){e.method}processLuminoMessage(e){switch(super.processLuminoMessage(e),e.type){case"resize":case"after-show":this.dirty=!0,this.obj.invalidateSize({animate:!1,pan:!0}),this.dirty=!1}}}o(623),o(3302),o(4438),o(7256),o(8618),o(9800),o(7873),o(8359),o(3400),o(907),o(3976)},587:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletCircleMarkerModel:()=>l,LeafletCircleMarkerView:()=>n});const i=o(9652),s=o(5529),a=[0,0];class l extends s.LeafletPathModel{defaults(){return{...super.defaults(),_view_name:"LeafletCircleMarkerView",_model_name:"LeafletCircleMarkerModel",location:a}}}class n extends s.LeafletPathView{create_obj(){this.obj=i.circleMarker(this.model.get("location"),this.get_options())}model_events(){super.model_events(),this.listenTo(this.model,"change:location",(function(){this.obj.setLatLng(this.model.get("location"))}),this)}}},3090:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletFeatureGroupModel:()=>a,LeafletFeatureGroupView:()=>l});const i=o(9652),s=o(6464);class a extends s.LeafletLayerGroupModel{defaults(){return{...super.defaults(),_view_name:"LeafletFeatureGroupView",_model_name:"LeafletFeatureGroupModel"}}}class l extends s.LeafletLayerGroupView{create_obj(){this.obj=i.featureGroup()}}},4795:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletLayerModel:()=>r,LeafletUILayerModel:()=>d,LeafletLayerView:()=>h,LeafletUILayerView:()=>c});const i=o(5335),s=o(2720),a=o(3992),l=o(9652),n=o(3555);class r extends i.WidgetModel{defaults(){return{...super.defaults(),_view_name:"LeafletLayerView",_model_name:"LeafletLayerModel",_view_module:"jupyter-leaflet",_model_module:"jupyter-leaflet",opacity:1,bottom:!1,options:[],name:"",base:!1,popup:null,popup_min_width:50,popup_max_width:300,popup_max_height:null}}}r.serializers={...i.WidgetModel.serializers,popup:{deserialize:i.unpack_models}};class d extends r{defaults(){return{...super.defaults(),_view_name:"LeafletUILayerView",_model_name:"LeafletUILayerModel"}}}class h extends n.LeafletWidgetView{initialize(e){super.initialize(e),this.map_view=this.options.map_view,this.popup_content_promise=Promise.resolve()}render(){return Promise.resolve(this.create_obj()).then((()=>{this.leaflet_events(),this.model_events(),this.bind_popup(this.model.get("popup")),this.listenTo(this.model,"change:popup",(function(e,t){this.bind_popup(t)}))}))}leaflet_events(){this.obj.on&&(this.obj.on("click dblclick mousedown mouseup mouseover mouseout",(e=>{this.send({event:"interaction",type:e.type,coordinates:[e.latlng.lat,e.latlng.lng]})})),this.obj.on("popupopen",(e=>{window.dispatchEvent(new Event("resize"))})),this.obj.transform&&(this.obj.on("add",(()=>{this.update_transform()})),this.obj.on("transformed",(()=>{this.model.set("locations",this.obj.getLatLngs()),this.touch()}))))}model_events(){for(var e,t=this.model.get("options"),o=0;o<t.length;o++)e=t[o],this.listenTo(this.model,"change:"+e,(function(){l.setOptions(this.obj,this.get_options())}),this);this.model.on_some_change(["popup_min_width","popup_max_width","popup_max_height"],this.update_popup,this)}remove(){super.remove(),this.popup_content_promise.then((()=>{this.popup_content&&this.popup_content.remove()}))}bind_popup(e){return this.popup_content&&(this.obj.unbindPopup(),this.popup_content.remove()),e&&(this.popup_content_promise=this.popup_content_promise.then((()=>this.create_child_view(e,{map_view:this.map_view}).then((t=>{"LeafletPopupModel"==e.name?this.obj.bindPopup(t.obj,this.popup_options()):(s.MessageLoop.sendMessage(t.pWidget,a.Widget.Msg.BeforeAttach),this.obj.bindPopup(t.el,this.popup_options()),s.MessageLoop.sendMessage(t.pWidget,a.Widget.Msg.AfterAttach)),this.popup_content=t,this.trigger("popup_content:created")}))))),this.popup_content_promise}popup_options(){return{minWidth:this.model.get("popup_min_width"),maxWidth:this.model.get("popup_max_width"),maxHeight:this.model.get("popup_max_height")}}update_popup(){l.setOptions(this.obj.getPopup(),this.popup_options()),this.obj.togglePopup(),this.obj.togglePopup()}}class c extends h{}},6464:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletLayerGroupModel:()=>l,LeafletLayerGroupView:()=>n});const i=o(5335),s=o(9652),a=o(4795);class l extends a.LeafletLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletLayerGroupView",_model_name:"LeafletLayerGroupModel",layers:[]}}}l.serializers={...i.WidgetModel.serializers,layers:{deserialize:i.unpack_models}};class n extends a.LeafletLayerView{create_obj(){this.obj=s.layerGroup(),this.layer_views=new i.ViewList(this.add_layer_model,this.remove_layer_view,this),this.layer_views.update(this.model.get("layers"))}remove_layer_view(e){this.obj.removeLayer(e.obj),e.remove()}add_layer_model(e){return this.create_child_view(e).then((e=>(this.obj.addLayer(e.obj),e)))}model_events(){this.listenTo(this.model,"change:layers",(function(){this.layer_views.update(this.model.get("layers"))}),this)}}},5529:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletPathModel:()=>s,LeafletPathView:()=>a});const i=o(2610);class s extends i.LeafletVectorLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletPathView",_model_name:"LeafletPathModel",stroke:!0,color:"#0033FF",weight:5,fill:!0,fill_color:null,fill_opacity:.2,dash_array:null,line_cap:"round",line_join:"round",pointer_events:""}}}class a extends i.LeafletVectorLayerView{model_events(){var e;super.model_events();for(var t=this.model.get("options"),o=0;o<t.length;o++)e=t[o],this.listenTo(this.model,"change:"+e,(function(){this.obj.setStyle(this.get_options())}),this)}}},5321:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletPolygonModel:()=>a,LeafletPolygonView:()=>l});var i=o(9652),s=o(9770);class a extends s.LeafletPolylineModel{defaults(){return{...super.defaults(),_view_name:"LeafletPolygonView",_model_name:"LeafletPolygonModel"}}}class l extends s.LeafletPolylineView{create_obj(){this.obj=i.polygon(this.model.get("locations"),this.get_options())}}},9770:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletPolylineModel:()=>a,LeafletPolylineView:()=>l});const i=o(9652),s=o(5529);class a extends s.LeafletPathModel{defaults(){return{...super.defaults(),_view_name:"LeafletPolylineView",_model_name:"LeafletPolylineModel",locations:[],smooth_factor:1,no_clip:!0}}}class l extends s.LeafletPathView{create_obj(){this.obj=i.polyline(this.model.get("locations"),this.get_options())}model_events(){super.model_events(),this.listenTo(this.model,"change:locations",(function(){this.obj.setLatLngs(this.model.get("locations")),this.obj.transform&&this.obj.transform.reset()}),this),this.model.on_some_change(["scaling","uniform_scaling","rotation"],this.update_transform,this),this.listenTo(this.model,"change:draggable",(()=>{this.obj.dragging&&this.obj.dragging[this.model.get("draggable")?"enable":"disable"]()}),this),this.listenTo(this.model,"change:transform",(()=>{this.obj.transform&&this.obj.transform[this.model.get("transform")?"enable":"disable"]()}),this)}update_transform(){this.obj.transform&&this.obj.transform.setOptions({scaling:this.model.get("scaling"),uniformScaling:this.model.get("uniform_scaling"),rotation:this.model.get("rotation")}).enable()}}},6004:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletRasterLayerModel:()=>s,LeafletRasterLayerView:()=>a});const i=o(4795);class s extends i.LeafletLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletRasterLayerView",_model_name:"LeafletRasterLayerModel",visible:!0}}}class a extends i.LeafletLayerView{model_events(){super.model_events(),this.listenTo(this.model,"change:opacity",(function(){this.model.get("visible")&&this.obj.setOpacity(this.model.get("opacity"))}),this),this.listenTo(this.model,"change:visible",(function(){this.model.get("visible")?this.obj.setOpacity(this.model.get("opacity")):this.obj.setOpacity(0)}),this),this.model.get("visible")?this.obj.setOpacity(this.model.get("opacity")):this.obj.setOpacity(0)}}},6231:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletTileLayerModel:()=>l,LeafletTileLayerView:()=>n});const i=o(9652),s=o(6004),a=o(1235).Spinner;i.TileLayer.WMS;class l extends s.LeafletRasterLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletTileLayerView",_model_name:"LeafletTileLayerModel",bottom:!0,url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",min_zoom:0,max_zoom:18,bounds:null,tile_size:256,attribution:'Map data (c) <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',detect_retina:!1,no_wrap:!1,tms:!1,show_loading:!1,loading:!1,show_load_timing:!0}}}class n extends s.LeafletRasterLayerView{initialize(e){super.initialize(e),this.loadStartTime=null}create_obj(){this.obj=i.tileLayer(this.model.get("url"),this.get_options()),this.model.on("msg:custom",this.handle_message.bind(this))}leaflet_events(){super.leaflet_events(),this.obj.on("loading",(()=>{this.model.set("loading",!0),this.model.save_changes(),this.model.get("show_loading")&&(this.spinner=(new a).spin(this.map_view.el))})),this.obj.on("loading-queue",(()=>{this.model.get("show_load_timing")&&this.model.get("layers")&&(this.loadStartTime=(new Date).getTime(),console.log(`==BEGIN==${this.model.get("layers")}:${this.model.get("name")}: ${this.loadStartTime}`))})),this.obj.on("remove",(()=>{this.model.get("show_load_timing")&&this.model.get("layers")&&this.loadStartTime&&(this.loadStartTime=null,console.log(`==CANCELLED==${this.model.get("layers")}:${this.model.get("name")}`))})),this.obj.on("load",(()=>{if(this.model.set("loading",!1),this.model.save_changes(),this.send({event:"load"}),this.model.get("show_loading")&&this.spinner.stop(),this.model.get("show_load_timing")&&this.model.get("layers")&&this.loadStartTime){const e=(new Date).getTime();console.log(`===END===${this.model.get("layers")}:${this.model.get("name")}: ${e}, duration: ${(e-this.loadStartTime)/1e3}s`),this.loadStartTime=null}})),this.obj.on("remove",(()=>{this.model.get("show_loading")&&this.spinner.stop()}))}model_events(){super.model_events(),this.listenTo(this.model,"change:url",(function(){this.obj.setUrl(this.model.get("url"),!0),this.obj.refresh()}),this)}handle_message(e){"redraw"==e.msg&&this.obj.redraw()}}},2610:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletVectorLayerModel:()=>s,LeafletVectorLayerView:()=>a});const i=o(4795);class s extends i.LeafletLayerModel{defaults(){return{...super.defaults(),_view_name:"LeafletVectorLayerView",_model_name:"LeafletVectorLayerModel"}}}class a extends i.LeafletLayerView{}},4192:()=>{"use strict";function e(t){if(!(this instanceof e))return new e(t);this._canvas=t="string"==typeof t?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,this._data=[]}e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(e){return this._data=e,this},max:function(e){return this._max=e,this},add:function(e){return this._data.push(e),this},clear:function(){return this._data=[],this},radius:function(e,t){t=void 0===t?15:t;var o=this._circle=this._createCanvas(),i=o.getContext("2d"),s=this._r=e+t;return o.width=o.height=2*s,i.shadowOffsetX=i.shadowOffsetY=2*s,i.shadowBlur=t,i.shadowColor="black",i.beginPath(),i.arc(-s,-s,e,0,2*Math.PI,!0),i.closePath(),i.fill(),this},resize:function(){this._width=this._canvas.width,this._height=this._canvas.height},gradient:function(e){var t=this._createCanvas(),o=t.getContext("2d"),i=o.createLinearGradient(0,0,0,256);for(var s in t.width=1,t.height=256,e)i.addColorStop(+s,e[s]);return o.fillStyle=i,o.fillRect(0,0,1,256),this._grad=o.getImageData(0,0,1,256).data,this},draw:function(e){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var t=this._ctx;t.clearRect(0,0,this._width,this._height);for(var o,i=0,s=this._data.length;i<s;i++)o=this._data[i],t.globalAlpha=Math.min(Math.max(o[2]/this._max,void 0===e?.05:e),1),t.drawImage(this._circle,o[0]-this._r,o[1]-this._r);var a=t.getImageData(0,0,this._width,this._height);return this._colorize(a.data,this._grad),t.putImageData(a,0,0),this},_colorize:function(e,t){for(var o,i=0,s=e.length;i<s;i+=4)(o=4*e[i+3])&&(e[i]=t[o],e[i+1]=t[o+1],e[i+2]=t[o+2])},_createCanvas:function(){return"undefined"!=typeof document?document.createElement("canvas"):new this._canvas.constructor}},L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({options:{minOpacity:.05,maxZoom:18,radius:25,blur:15,max:1},initialize:function(e,t){this._latlngs=e,L.setOptions(this,t)},setLatLngs:function(e){return this._latlngs=e,this.redraw()},addLatLng:function(e){return this._latlngs.push(e),this.redraw()},setOptions:function(e){return L.setOptions(this,e),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return this._heat&&!this._frame&&this._map&&!this._map._animating&&(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(e){this._map=e,this._canvas||this._initCanvas(),this.options.pane?this.getPane().appendChild(this._canvas):e._panes.overlayPane.appendChild(this._canvas),e.on("moveend",this._reset,this),e.options.zoomAnimation&&L.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){this.options.pane?this.getPane().removeChild(this._canvas):e.getPanes().overlayPane.removeChild(this._canvas),e.off("moveend",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),o=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[o]="50% 50%";var i=this._map.getSize();t.width=i.x,t.height=i.y;var s=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(s?"animated":"hide")),this._heat=e(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var e=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,e);var t=this._map.getSize();this._heat._width!==t.x&&(this._canvas.width=this._heat._width=t.x),this._heat._height!==t.y&&(this._canvas.height=this._heat._height=t.y),this._redraw()},_redraw:function(){if(this._map){var e,t,o,i,s,a,l,n,r,d=[],h=this._heat._r,c=this._map.getSize(),m=new L.Bounds(L.point([-h,-h]),c.add([h,h])),p=void 0===this.options.max?1:this.options.max,u=void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom,_=1/Math.pow(2,Math.max(0,Math.min(u-this._map.getZoom(),12))),g=h/2,f=[],y=this._map._getMapPanePos(),v=y.x%g,w=y.y%g;for(e=0,t=this._latlngs.length;e<t;e++)o=this._map.latLngToContainerPoint(this._latlngs[e]),m.contains(o)&&(s=Math.floor((o.x-v)/g)+2,a=Math.floor((o.y-w)/g)+2,r=(void 0!==this._latlngs[e].alt?this._latlngs[e].alt:void 0!==this._latlngs[e][2]?+this._latlngs[e][2]:1)*_,f[a]=f[a]||[],(i=f[a][s])?(i[0]=(i[0]*i[2]+o.x*r)/(i[2]+r),i[1]=(i[1]*i[2]+o.y*r)/(i[2]+r),i[2]+=r):f[a][s]=[o.x,o.y,r]);for(e=0,t=f.length;e<t;e++)if(f[e])for(l=0,n=f[e].length;l<n;l++)(i=f[e][l])&&d.push([Math.round(i[0]),Math.round(i[1]),Math.min(i[2],p)]);this._heat.data(d).draw(this.options.minOpacity),this._frame=null}},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),o=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,o,t):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(o)+" scale("+t+")"}}),L.heatLayer=function(e,t){return new L.HeatLayer(e,t)}},2481:()=>{L.MagnifyingGlass=L.Layer.extend({options:{radius:100,zoomOffset:3,layers:[],fixedPosition:!1,latLng:[0,0],fixedZoom:-1},initialize:function(e){L.Util.setOptions(this,e),this._fixedZoom=-1!=this.options.fixedZoom,this._mainMap=null,this._glassMap=null},getMap:function(){return this._glassMap},_createMiniMap:function(e){return new L.Map(e,{layers:this.options.layers,zoom:this._getZoom(),maxZoom:this._mainMap.getMaxZoom(),minZoom:this._mainMap.getMinZoom(),crs:this._mainMap.options.crs,fadeAnimation:!1,attributionControl:!1,zoomControl:!1,boxZoom:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,dragging:!1,keyboard:!1})},_getZoom:function(){return this._fixedZoom?this.options.fixedZoom:this._mainMap.getZoom()+this.options.zoomOffset},_updateZoom:function(){this._glassMap.setZoom(this._getZoom())},setRadius:function(e){this.options.radius=e,this._wrapperElt&&(this._wrapperElt.style.width=2*this.options.radius+"px",this._wrapperElt.style.height=2*this.options.radius+"px")},setLatLng:function(e){this.options.latLng=e,this._update(e)},_updateFromMouse:function(e){this._update(e.latlng,e.layerPoint)},_updateFixed:function(){this._update(this.options.latLng)},_update:function(e,t){this._glassMap.setView(e,this._getZoom(),{pan:{animate:!1}}),t=t||this._mainMap.latLngToLayerPoint(e),this._wrapperElt.style.left=t.x-this.options.radius+"px",this._wrapperElt.style.top=t.y-this.options.radius+"px"},onAdd:function(e){this._mainMap=e,this._wrapperElt=L.DomUtil.create("div","leaflet-magnifying-glass");var t=L.DomUtil.create("div","",this._wrapperElt);L.Browser.webkit&&L.DomUtil.addClass(t,"leaflet-magnifying-glass-webkit"),this._glassMap=this._createMiniMap(t),L.DomEvent.addListener(this._wrapperElt,"click",this._fireClick,this);var o=this.options;return this.setRadius(o.radius),this.setLatLng(o.latLng),this._glassMap.whenReady((function(){o.fixedPosition?(this._mainMap.on("zoomend",this._updateFixed,this),L.DomUtil.addClass(this._wrapperElt,"leaflet-zoom-hide")):(this._mainMap.on("mousemove",this._updateFromMouse,this),this._fixedZoom||this._mainMap.on("zoomend",this._updateZoom,this))}),this),e.getPanes().popupPane.appendChild(this._wrapperElt),this._glassMap.invalidateSize(),this},_fireClick:function(e){this.fire("click",e),L.DomEvent.stopPropagation(e)},onRemove:function(e){e.off("viewreset",this._updateFixed,this),e.off("mousemove",this._updateFromMouse,this),e.off("zoomend",this._updateZoom,this);for(var t=0,o=this.options.layers.length;t<o;t++)this._glassMap.removeLayer(this.options.layers[t]);return this._glassMap.remove(),L.DomEvent.removeListener(this._wrapperElt,"click",this._fireClick),e.getPanes().popupPane.removeChild(this._wrapperElt),this._mainMap=null,this}}),L.magnifyingGlass=function(e){return new L.MagnifyingGlass(e)}},4877:()=>{L.TileLayer.mergeOptions({dumpToCanvas:L.Browser.canvas&&!L.Browser.ie}),L.TileLayer.include({_onUpdateLevel:function(e,t){this.options.dumpToCanvas&&(this._levels[e].canvas.style.zIndex=this.options.maxZoom-Math.abs(t-e))},_onRemoveLevel:function(e){this.options.dumpToCanvas&&L.DomUtil.remove(this._levels[e].canvas)},_onCreateLevel:function(e){this.options.dumpToCanvas&&(e.canvas=L.DomUtil.create("canvas","leaflet-tile-container leaflet-zoom-animated",this._container),e.ctx=e.canvas.getContext("2d"),this._resetCanvasSize(e))},_removeTile:function(e){if(this.options.dumpToCanvas){var t=this._tiles[e],o=this._levels[t.coords.z],i=this.getTileSize();if(o){var s=L.point(t.coords.x,t.coords.y).subtract(o.canvasRange.min).scaleBy(this.getTileSize());o.ctx.clearRect(s.x,s.y,i.x,i.y)}}L.GridLayer.prototype._removeTile.call(this,e)},_resetCanvasSize:function(e){var t=this.options.keepBuffer,o=this._getTiledPixelBounds(this._map.getCenter()),i=this._pxBoundsToTileRange(o),s=this.getTileSize();i.min=i.min.subtract([t,t]),i.max=i.max.add([t+1,t+1]);var a=L.bounds(i.min.scaleBy(s),i.max.add([1,1]).scaleBy(s)),l=!1,n=a.max.subtract(a.min);if(n.x>e.canvas.width||n.y>e.canvas.height){var r={x:e.canvas.width,y:e.canvas.height},d=L.DomUtil.create("canvas");d.style.width=(d.width=r.x)+"px",d.style.height=(d.height=r.y)+"px",d.getContext("2d").drawImage(e.canvas,0,0),e.canvas.style.width=(e.canvas.width=n.x)+"px",e.canvas.style.height=(e.canvas.height=n.y)+"px",e.ctx.drawImage(d,0,0)}if(e.canvasRange){var h=e.canvasRange.min.subtract(i.min).scaleBy(this.getTileSize());if(L.Browser.safari){if(!this._tmpCanvas){var c=this._tmpCanvas=L.DomUtil.create("canvas");c.width=e.canvas.width,c.height=e.canvas.height,this._tmpContext=c.getContext("2d")}this._tmpContext.clearRect(0,0,e.canvas.width,e.canvas.height),this._tmpContext.drawImage(e.canvas,0,0),e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height),e.ctx.drawImage(this._tmpCanvas,h.x,h.y)}else e.ctx.globalCompositeOperation="copy",e.ctx.drawImage(e.canvas,h.x,h.y),e.ctx.globalCompositeOperation="source-over";l=!0}e.canvasRange=i,e.canvasPxRange=a,e.canvasOrigin=a.min,l&&this._setCanvasZoomTransform(e,this._map.getCenter(),this._map.getZoom())},_setZoomTransform:function(e,t,o){L.GridLayer.prototype._setZoomTransform.call(this,e,t,o),this.options.dumpToCanvas&&this._setCanvasZoomTransform(e,t,o)},_setCanvasZoomTransform:function(e,t,o){if(e.canvasOrigin){var i=this._map.getZoomScale(o,e.zoom),s=e.canvasOrigin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,o)).round();L.Browser.any3d?L.DomUtil.setTransform(e.canvas,s,i):L.DomUtil.setPosition(e.canvas,s)}},_onOpaqueTile:function(e){if(this.options.dumpToCanvas){try{this.dumpPixels(e.coords,e.el)}catch(t){return this.fire("tileerror",{error:"Could not copy tile pixels: "+t,tile:e,coods:e.coords})}e.el.style.display="none"}},dumpPixels:function(e,t){var o=this._levels[e.z],i=this.getTileSize();if(o.canvasRange&&this.options.dumpToCanvas){o.canvasRange.contains(e)||this._resetCanvasSize(o);var s=L.point(e.x,e.y).subtract(o.canvasRange.min).scaleBy(this.getTileSize());return o.ctx.drawImage(t,s.x,s.y,i.x,i.y),this}}})},9652:(e,t,o)=>{const i=o(1795);o(445),o(8249),o(8808),o(7680),o(4519),o(1834),o(6753),o(6336),o(4192),o(2481),o(4877),o(1509),o(6843),o(474),o(356),o(9574);const s=o(9102).Z;i.patchGridLayer=function(e){e._refreshTileUrl=function(e,t){var o=new Image;o.onload=function(){i.Util.requestAnimFrame((function(){e.el.src=t}))},o.src=t},e.refresh=function(){var e=this._map._fadeAnimated;for(var t in this._map._fadeAnimated=!1,this._tiles){var o=this._tiles[t];if(o.current&&o.active){var i=o.el.src,s=this.getTileUrl(o.coords);i!=s&&this._refreshTileUrl(o,s)}}e&&setTimeout((function(){this._map._fadeAnimated=e}),5e3)}};const a=new class{constructor(){this._layers={},this._layerLoading=null,this.check=this.check.bind(this)}check(){if(!this._layerLoading)return;const e=this._layers[this._layerLoading];!e||e._noTilesToLoad()?(e&&delete this._layers[this._layerLoading],this._layerLoading=null,this.loadLayer(),window.requestAnimationFrame(this.check)):window.requestAnimationFrame(this.check)}enqueue(e,t,o){const i=e._leaflet_id;this._layers[i]||(this._layers[i]=e),this._layerLoading?this._layerLoading===i&&this.loadTile(e,t,o):(this._layerLoading=i,this.loadTile(e,t,o),e.fire("loading-queue"),window.requestAnimationFrame(this.check))}dequeue(e){const t=e._leaflet_id;t!==this._layerLoading&&this._layers[t]&&delete this._layers[t]}loadTile(e,t,o){t.src=e.getTileUrl(o)}loadLayer(){let e=null;Object.keys(this._layers).forEach((t=>{const o=this._layers[t];(!e||o.zIndex&&o.zIndex>(e.zIndex||1))&&(e=o)})),e&&(this._layerLoading=e._leaflet_id,e.fire("loading-queue"),Object.keys(e._tiles).forEach((t=>{const{el:o,coords:i}=e._tiles[t];this.loadTile(e,o,i)})))}};var l=i.tileLayer;i.tileLayer=function(e,t){var o=l(e,t);return i.patchGridLayer(o),o};var n=l.wms;i.tileLayer.wms=function(e,t){var o=n(e,t);i.patchGridLayer(o);const l=o.getTileUrl.bind(o);o.getTileUrl=e=>{let t=l(e);return t=`${t}&req_id=${s(t)}`,t};const r=o.onRemove.bind(o);return o.onRemove=e=>{r(e),a.dequeue(o)},o.createTile=(e,t)=>{var s=document.createElement("img");return i.DomEvent.on(s,"load",i.Util.bind(o._tileOnLoad,o,t,s)),i.DomEvent.on(s,"error",i.Util.bind(o._tileOnError,o,t,s)),(o.options.crossOrigin||""===o.options.crossOrigin)&&(s.crossOrigin=!0===o.options.crossOrigin?"":o.options.crossOrigin),"string"==typeof o.options.referrerPolicy&&(s.referrerPolicy=o.options.referrerPolicy),s.alt="",a.enqueue(o,s,e),s},o},i.tileLayer.postwms=function(e,t){const o=t.body;o&&delete t.body;var s=n(e,t);return i.patchGridLayer(s),s.createTile=(t,i)=>{const a=document.createElement("img");return(async(e,t,i)=>{const s=await fetch(e,{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json"}}),a=await s.blob(),l=new FileReader;l.onload=()=>{i.src=l.result,t(void 0,i)},l.readAsDataURL(a)})(e=s.getTileUrl(t),i,a),a},s},e.exports=i},9102:(e,t,o)=>{"use strict";function i(e,t){var o=e[0],i=e[1],s=e[2],d=e[3];o=a(o,i,s,d,t[0],7,-680876936),d=a(d,o,i,s,t[1],12,-389564586),s=a(s,d,o,i,t[2],17,606105819),i=a(i,s,d,o,t[3],22,-1044525330),o=a(o,i,s,d,t[4],7,-176418897),d=a(d,o,i,s,t[5],12,1200080426),s=a(s,d,o,i,t[6],17,-1473231341),i=a(i,s,d,o,t[7],22,-45705983),o=a(o,i,s,d,t[8],7,1770035416),d=a(d,o,i,s,t[9],12,-1958414417),s=a(s,d,o,i,t[10],17,-42063),i=a(i,s,d,o,t[11],22,-1990404162),o=a(o,i,s,d,t[12],7,1804603682),d=a(d,o,i,s,t[13],12,-40341101),s=a(s,d,o,i,t[14],17,-1502002290),o=l(o,i=a(i,s,d,o,t[15],22,1236535329),s,d,t[1],5,-165796510),d=l(d,o,i,s,t[6],9,-1069501632),s=l(s,d,o,i,t[11],14,643717713),i=l(i,s,d,o,t[0],20,-373897302),o=l(o,i,s,d,t[5],5,-701558691),d=l(d,o,i,s,t[10],9,38016083),s=l(s,d,o,i,t[15],14,-660478335),i=l(i,s,d,o,t[4],20,-405537848),o=l(o,i,s,d,t[9],5,568446438),d=l(d,o,i,s,t[14],9,-1019803690),s=l(s,d,o,i,t[3],14,-187363961),i=l(i,s,d,o,t[8],20,1163531501),o=l(o,i,s,d,t[13],5,-1444681467),d=l(d,o,i,s,t[2],9,-51403784),s=l(s,d,o,i,t[7],14,1735328473),o=n(o,i=l(i,s,d,o,t[12],20,-1926607734),s,d,t[5],4,-378558),d=n(d,o,i,s,t[8],11,-2022574463),s=n(s,d,o,i,t[11],16,1839030562),i=n(i,s,d,o,t[14],23,-35309556),o=n(o,i,s,d,t[1],4,-1530992060),d=n(d,o,i,s,t[4],11,1272893353),s=n(s,d,o,i,t[7],16,-155497632),i=n(i,s,d,o,t[10],23,-1094730640),o=n(o,i,s,d,t[13],4,681279174),d=n(d,o,i,s,t[0],11,-358537222),s=n(s,d,o,i,t[3],16,-722521979),i=n(i,s,d,o,t[6],23,76029189),o=n(o,i,s,d,t[9],4,-640364487),d=n(d,o,i,s,t[12],11,-421815835),s=n(s,d,o,i,t[15],16,530742520),o=r(o,i=n(i,s,d,o,t[2],23,-995338651),s,d,t[0],6,-198630844),d=r(d,o,i,s,t[7],10,1126891415),s=r(s,d,o,i,t[14],15,-1416354905),i=r(i,s,d,o,t[5],21,-57434055),o=r(o,i,s,d,t[12],6,1700485571),d=r(d,o,i,s,t[3],10,-1894986606),s=r(s,d,o,i,t[10],15,-1051523),i=r(i,s,d,o,t[1],21,-2054922799),o=r(o,i,s,d,t[8],6,1873313359),d=r(d,o,i,s,t[15],10,-30611744),s=r(s,d,o,i,t[6],15,-1560198380),i=r(i,s,d,o,t[13],21,1309151649),o=r(o,i,s,d,t[4],6,-145523070),d=r(d,o,i,s,t[11],10,-1120210379),s=r(s,d,o,i,t[2],15,718787259),i=r(i,s,d,o,t[9],21,-343485551),e[0]=m(o,e[0]),e[1]=m(i,e[1]),e[2]=m(s,e[2]),e[3]=m(d,e[3])}function s(e,t,o,i,s,a){return t=m(m(t,e),m(i,a)),m(t<<s|t>>>32-s,o)}function a(e,t,o,i,a,l,n){return s(t&o|~t&i,e,t,a,l,n)}function l(e,t,o,i,a,l,n){return s(t&i|o&~i,e,t,a,l,n)}function n(e,t,o,i,a,l,n){return s(t^o^i,e,t,a,l,n)}function r(e,t,o,i,a,l,n){return s(o^(t|~i),e,t,a,l,n)}function d(e){var t,o=[];for(t=0;t<64;t+=4)o[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return o}o.d(t,{Z:()=>p});var h="0123456789abcdef".split("");function c(e){for(var t="",o=0;o<4;o++)t+=h[e>>8*o+4&15]+h[e>>8*o&15];return t}function m(e,t){return e+t&4294967295}const p=function(e){return function(e){for(var t=0;t<e.length;t++)e[t]=c(e[t]);return e.join("")}(function(e){var t,o=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)i(s,d(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(i(s,a),t=0;t<16;t++)a[t]=0;return a[14]=8*o,i(s,a),s}(e))}},4382:(e,t,o)=>{"use strict";o.r(t),o.d(t,{getProjection:()=>s});const i=o(9652);function s(e){return!1===e.custom?i.CRS[e.name]:new i.Proj.CRS(e.name,e.proj4def,{origin:e.origin,resolutions:e.resolutions,bounds:i.Bounds(e.bounds)})}},3555:(e,t,o)=>{"use strict";o.r(t),o.d(t,{LeafletWidgetView:()=>s,LeafletDOMWidgetView:()=>a});const i=o(5335);class s extends i.WidgetView{}class a extends i.DOMWidgetView{}class l{get_options(){for(var e,t,o=this.model.get("options"),i=this.model.get("camel_case"),s={},a=0;a<o.length;a++)"camel_case"!==(e=o[a])&&(i?s[(t=e,t.toLowerCase().replace(/_(.)/g,(function(e,t){return t.toUpperCase()})))]=this.model.get(e):s[e]=this.model.get(e));return s}}function n(e,t){t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((o=>{Object.defineProperty(e.prototype,o,Object.getOwnPropertyDescriptor(t.prototype,o))}))}))}n(s,[l]),n(a,[l])}}]);